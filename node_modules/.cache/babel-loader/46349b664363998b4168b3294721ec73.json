{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0410\\u043D\\u0434\\u0440\\u0435\\u0439\\\\Desktop\\\\\\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B\\\\yandex-movies-full\\\\movies-explorer-frontend\\\\src\\\\components\\\\App\\\\App.js\";\nimport React from \"react\";\nimport './App.css'; // import ''\n// import { Route, Switch,  Redirect } from \"react-router-dom\";\n// import api from \"../utils/Api\";\n// import * as auth from \"../utils/Auth\";\n\nimport Header from \"../Header/Header\";\nimport Main from \"../Main/Main\";\nimport Footer from \"../Footer/Footer\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Movies from \"../Movies/Movies\"; // import Main from \"./Main/Main\";\n// import Footer from \"./Footer/Footer\";\n// import PopupWithForm from \"./PopupWithForm/PopupWithForm\";\n// import PopupWithImage from \"./PopupWithImage/PopupWithImage\";\n// import EditProfilePopup from \"./EditProfilePopup/EditProfilePopup\";\n// import EditAvatarPopup from \"./EditAvatarPopup/EditAvatarPopup\";\n// import AddPlacePopup from \"./AddPlacePopup/AddPlacePopup\";\n// import { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n// import Register from \"./Register/Register\";\n// import Login from \"./Login/Login\";\n// import ProtectedRoute from \"./ProtectedRoute/ProtectedRoute\";\n// import InfoToolTip from \"./InfoTooltip/InfoTooltip\";\n// import info_ok from \"../../src/images/info-ok.jpg\";\n// import info_err from \"../../src/images/info-err.jpg\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  // const history = useHistory();\n  // const [currentUser, setCurrentUser] = React.useState({});\n  // const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  // const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  // const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  // const [isTooltipPopupOpen, setIsTooltipPopupOpen] = useState(false);\n  // const [selectedCard, setSelectedCard] = useState(null);\n  // const [cards, setCards] = useState([]);\n  // const [loggedIn, setLoggedIn] = useState(false);\n  // const [infoPopup, setInfoPopup] = useState({});\n  // const [email, setEmail] = useState(\"\");\n  // React.useEffect(() => {\n  //   if (loggedIn) {\n  //     api.getDefaultData()\n  //     .then((data) => {\n  //       const [userData, cardList] = data;\n  //       setCurrentUser(userData);\n  //       setCards(cardList.reverse());\n  //     })\n  //     .catch((err) => console.log(err));\n  //   }\n  // }, [loggedIn]);\n  // React.useEffect(() => {\n  //   // const jwt = localStorage.getItem(\"jwt\");\n  //   // if (jwt) {\n  //     auth\n  //       .getContent()\n  //       .then((res) => {\n  //         if (res) {\n  //           console.log(res)\n  //           setEmail(res.data.email);\n  //           // console.log(res)\n  //           setLoggedIn(true);\n  //           history.push(\"/\");\n  //         // } else {\n  //         //   localStorage.removeItem(jwt);\n  //         }\n  //       })\n  //       .catch((err) => console.log(err));\n  //   // }\n  // }, []);\n  // function handleCardLike(card) {\n  //   const isLiked = card.likes.some((i) => i === currentUser._id);\n  //   api.checkDateLike(!isLiked, card._id).then((newCard) => {\n  //     setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n  //   })\n  //   .catch((err) => console.log(err));\n  // }\n  // function handleCardDelete(card) {\n  //   api\n  //     .deleteCard(card._id)\n  //     .then(() => {\n  //       setCards((state) => state.filter((c) => c._id !== card._id));\n  //     })\n  //     .catch((err) => console.log(err));\n  // }\n  // function closeAllPopups() {\n  //   setIsEditAvatarPopupOpen(false);\n  //   setIsEditProfilePopupOpen(false);\n  //   setIsAddPlacePopupOpen(false);\n  //   setIsTooltipPopupOpen(false);\n  //   setSelectedCard(null);\n  // }\n  // function handleUpdateUser(User) {\n  //   api\n  //     .editInfo({ name: User.name, about: User.about })\n  //     .then((res) => setCurrentUser(res))\n  //     .catch((err) => console.log(err))\n  //     .finally(() => closeAllPopups());\n  // }\n  // function handleUpdateAvatar({ avatar }) {\n  //   api\n  //     .editAvatar({ avatar })\n  //     .then((res) => setCurrentUser(res))\n  //     .catch((err) => console.log(err))\n  //     .finally(() => closeAllPopups());\n  // }\n  // function handleAddPlaceSubmit(newCard) {\n  //   api\n  //     .addCard(newCard)\n  //     .then((newCard) => setCards([newCard, ...cards]))\n  //     .catch((err) => console.log(err))\n  //     .finally(() => closeAllPopups());\n  // }\n  // function handleEditAvatarClick() {\n  //   setIsEditAvatarPopupOpen(true);\n  // }\n  // function handleEditProfileClick() {\n  //   setIsEditProfilePopupOpen(true);\n  // }\n  // function handleAddPlaceClick() {\n  //   setIsAddPlacePopupOpen(true);\n  // }\n  // function handleLogOut() {\n  //   // localStorage.removeItem(\"jwt\");\n  //   auth.signout()\n  //   .then(() => {\n  //     setLoggedIn(false);\n  //     history.push(\"/sign-in\");\n  //   }) \n  // }\n  // function handleRegistration(data) {\n  //   auth\n  //     .register(data)\n  //     .then((res) => {\n  //       if (res) {\n  //         console.log(res);\n  //         setIsTooltipPopupOpen(true);\n  //         setInfoPopup({\n  //           message: \"Вы успешно зарегистрировались!\",\n  //           img: info_ok,\n  //         });\n  //         history.push(\"/sign-in\");\n  //       }\n  //     })\n  //     .catch((err) => {\n  //       console.log(err);\n  //       setIsTooltipPopupOpen(true);\n  //       setInfoPopup({\n  //         message: \"Что-то пошло не так! Попробуйте еще раз.\",\n  //         img: info_err,\n  //       });\n  //     });\n  // }\n  // function handleAuth(data) {\n  //   auth\n  //     .authorize(data)\n  //     .then((res) => {\n  //       // localStorage.setItem(\"jwt\", res.token);\n  //       setLoggedIn(true);\n  //       setEmail(res.email);\n  //       history.push(\"/\");\n  //     })\n  //     .catch((err) => {\n  //       console.log(err);\n  //       setIsTooltipPopupOpen(true);\n  //       setInfoPopup({\n  //         message: \"Что-то пошло не так! Попробуйте еще раз.\",\n  //         img: info_err,\n  //       });\n  //     });\n  // }\n  return (\n    /*#__PURE__*/\n    // <CurrentUserContext.Provider value={currentUser}>\n    _jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app__page\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/\",\n            children: /*#__PURE__*/_jsxDEV(Main, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            children: /*#__PURE__*/_jsxDEV(Movies, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this) // </CurrentUserContext.Provider>\n\n  );\n}\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Header","Main","Footer","Route","Switch","Movies","App"],"sources":["C:/Users/Андрей/Desktop/проекты/yandex-movies-full/movies-explorer-frontend/src/components/App/App.js"],"sourcesContent":["import React from \"react\";\nimport './App.css'\n// import ''\n\n// import { Route, Switch,  Redirect } from \"react-router-dom\";\n// import api from \"../utils/Api\";\n// import * as auth from \"../utils/Auth\";\nimport Header from \"../Header/Header\";\nimport Main from \"../Main/Main\";\nimport Footer from \"../Footer/Footer\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Movies from \"../Movies/Movies\";\n// import Main from \"./Main/Main\";\n// import Footer from \"./Footer/Footer\";\n// import PopupWithForm from \"./PopupWithForm/PopupWithForm\";\n// import PopupWithImage from \"./PopupWithImage/PopupWithImage\";\n// import EditProfilePopup from \"./EditProfilePopup/EditProfilePopup\";\n// import EditAvatarPopup from \"./EditAvatarPopup/EditAvatarPopup\";\n// import AddPlacePopup from \"./AddPlacePopup/AddPlacePopup\";\n// import { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n// import Register from \"./Register/Register\";\n// import Login from \"./Login/Login\";\n// import ProtectedRoute from \"./ProtectedRoute/ProtectedRoute\";\n// import InfoToolTip from \"./InfoTooltip/InfoTooltip\";\n// import info_ok from \"../../src/images/info-ok.jpg\";\n// import info_err from \"../../src/images/info-err.jpg\";\n\nfunction App() {\n  // const history = useHistory();\n\n  // const [currentUser, setCurrentUser] = React.useState({});\n  // const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  // const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  // const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  // const [isTooltipPopupOpen, setIsTooltipPopupOpen] = useState(false);\n  // const [selectedCard, setSelectedCard] = useState(null);\n  // const [cards, setCards] = useState([]);\n  // const [loggedIn, setLoggedIn] = useState(false);\n  // const [infoPopup, setInfoPopup] = useState({});\n  // const [email, setEmail] = useState(\"\");\n\n  // React.useEffect(() => {\n  //   if (loggedIn) {\n  //     api.getDefaultData()\n  //     .then((data) => {\n  //       const [userData, cardList] = data;\n  //       setCurrentUser(userData);\n  //       setCards(cardList.reverse());\n  //     })\n  //     .catch((err) => console.log(err));\n  //   }\n  // }, [loggedIn]);\n   \n\n\n  // React.useEffect(() => {\n  //   // const jwt = localStorage.getItem(\"jwt\");\n  //   // if (jwt) {\n  //     auth\n  //       .getContent()\n  //       .then((res) => {\n  //         if (res) {\n  //           console.log(res)\n\n  //           setEmail(res.data.email);\n  //           // console.log(res)\n  //           setLoggedIn(true);\n  //           history.push(\"/\");\n  //         // } else {\n  //         //   localStorage.removeItem(jwt);\n  //         }\n  //       })\n  //       .catch((err) => console.log(err));\n  //   // }\n  // }, []);\n\n  // function handleCardLike(card) {\n  //   const isLiked = card.likes.some((i) => i === currentUser._id);\n\n  //   api.checkDateLike(!isLiked, card._id).then((newCard) => {\n  //     setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n  //   })\n  //   .catch((err) => console.log(err));\n  // }\n\n  // function handleCardDelete(card) {\n  //   api\n  //     .deleteCard(card._id)\n  //     .then(() => {\n  //       setCards((state) => state.filter((c) => c._id !== card._id));\n  //     })\n  //     .catch((err) => console.log(err));\n  // }\n\n  // function closeAllPopups() {\n  //   setIsEditAvatarPopupOpen(false);\n  //   setIsEditProfilePopupOpen(false);\n  //   setIsAddPlacePopupOpen(false);\n  //   setIsTooltipPopupOpen(false);\n  //   setSelectedCard(null);\n  // }\n\n  // function handleUpdateUser(User) {\n  //   api\n  //     .editInfo({ name: User.name, about: User.about })\n  //     .then((res) => setCurrentUser(res))\n  //     .catch((err) => console.log(err))\n  //     .finally(() => closeAllPopups());\n  // }\n\n  // function handleUpdateAvatar({ avatar }) {\n  //   api\n  //     .editAvatar({ avatar })\n  //     .then((res) => setCurrentUser(res))\n  //     .catch((err) => console.log(err))\n  //     .finally(() => closeAllPopups());\n  // }\n\n  // function handleAddPlaceSubmit(newCard) {\n  //   api\n  //     .addCard(newCard)\n  //     .then((newCard) => setCards([newCard, ...cards]))\n  //     .catch((err) => console.log(err))\n  //     .finally(() => closeAllPopups());\n  // }\n\n  // function handleEditAvatarClick() {\n  //   setIsEditAvatarPopupOpen(true);\n  // }\n  // function handleEditProfileClick() {\n  //   setIsEditProfilePopupOpen(true);\n  // }\n  // function handleAddPlaceClick() {\n  //   setIsAddPlacePopupOpen(true);\n  // }\n\n  // function handleLogOut() {\n  //   // localStorage.removeItem(\"jwt\");\n  //   auth.signout()\n  //   .then(() => {\n  //     setLoggedIn(false);\n  //     history.push(\"/sign-in\");\n  //   }) \n  // }\n\n  // function handleRegistration(data) {\n  //   auth\n  //     .register(data)\n  //     .then((res) => {\n  //       if (res) {\n  //         console.log(res);\n  //         setIsTooltipPopupOpen(true);\n  //         setInfoPopup({\n  //           message: \"Вы успешно зарегистрировались!\",\n  //           img: info_ok,\n  //         });\n  //         history.push(\"/sign-in\");\n  //       }\n  //     })\n  //     .catch((err) => {\n  //       console.log(err);\n  //       setIsTooltipPopupOpen(true);\n  //       setInfoPopup({\n  //         message: \"Что-то пошло не так! Попробуйте еще раз.\",\n  //         img: info_err,\n  //       });\n  //     });\n  // }\n  // function handleAuth(data) {\n  //   auth\n  //     .authorize(data)\n  //     .then((res) => {\n  //       // localStorage.setItem(\"jwt\", res.token);\n  //       setLoggedIn(true);\n  //       setEmail(res.email);\n  //       history.push(\"/\");\n  //     })\n  //     .catch((err) => {\n  //       console.log(err);\n  //       setIsTooltipPopupOpen(true);\n  //       setInfoPopup({\n  //         message: \"Что-то пошло не так! Попробуйте еще раз.\",\n  //         img: info_err,\n  //       });\n  //     });\n  // }\n\n  return (\n    // <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"app__page\">\n        <Header />\n        <Switch> \n          <Route  exact path='/'>\n            <Main />\n          </Route>\n          <Route path='/'>\n            <Movies />\n          </Route>\n\n        </Switch>\n\n        <Footer/>\n\n        {/* <div className=\"page\">\n          <Header email={email} onLogOut={handleLogOut} />\n          <Switch>\n            <ProtectedRoute exact path=\"/\" loggedIn={loggedIn}>\n              {/* <Route path='/'> */}\n              {/* <Main\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onCardClick={setSelectedCard}\n                onCardLike={handleCardLike}\n                onCardDelete={handleCardDelete}\n                cards={cards}\n              /> */}\n              {/* </Route> */}\n            {/* </ProtectedRoute>\n\n            <Route path=\"/sign-up\">\n              <Register handleRegister={handleRegistration} />\n            </Route>\n            <Route path=\"/sign-in\">\n              <Login onSubmit={handleAuth} />\n            </Route>\n            <Route>\n              {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n            </Route> */}\n          {/* </Switch>\n\n          <EditProfilePopup\n            onUpdateUser={handleUpdateUser}\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n\n          <AddPlacePopup\n            onAddPlace={handleAddPlaceSubmit}\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n          />\n\n          <PopupWithForm\n            name=\"confirm\"\n            title=\"Вы уверены?\"\n            textButton=\"Да\"\n            isPopupOpen={false}\n            onClose={closeAllPopups}\n          />\n\n          <PopupWithImage card={selectedCard} onClose={closeAllPopups} />\n\n          <InfoToolTip\n            name=\"info\"\n            isOpen={isTooltipPopupOpen}\n            onClose={closeAllPopups}\n            info={infoPopup}\n          />\n\n          <Footer /> */}\n        {/* </div> */} \n        </div>\n      </div>\n    // </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP,C,CACA;AAEA;AACA;AACA;;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,kBAA9B;AACA,OAAOC,MAAP,MAAmB,kBAAnB,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAEA,SAASC,GAAT,GAAe;EACb;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAIA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EAEA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;IAAA;IACE;IACE;MAAK,SAAS,EAAC,KAAf;MAAA,uBACE;QAAK,SAAS,EAAC,WAAf;QAAA,wBACA,QAAC,MAAD;UAAA;UAAA;UAAA;QAAA,QADA,eAEA,QAAC,MAAD;UAAA,wBACE,QAAC,KAAD;YAAQ,KAAK,MAAb;YAAc,IAAI,EAAC,GAAnB;YAAA,uBACE,QAAC,IAAD;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QADF,eAIE,QAAC,KAAD;YAAO,IAAI,EAAC,GAAZ;YAAA,uBACE,QAAC,MAAD;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QAJF;QAAA;UAAA;UAAA;UAAA;QAAA,QAFA,eAYA,QAAC,MAAD;UAAA;UAAA;UAAA;QAAA,QAZA;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAFJ,CAmFE;;EAnFF;AAqFD;;KArPQA,G;AAuPT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}